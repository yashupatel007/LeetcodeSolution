class Solution {
public:
    string frequencySort(string s) {
     unordered_map<char,int>mp;
     for(char c:s)
       mp[c]++;   //count the frequency
       int maxfreq=0;
     for(auto &p:mp)  // find max frequency
       maxfreq=max(maxfreq,p.second);
       vector<vector<char>>bucket(maxfreq+1);// apply bucket sort

       for(auto &p:mp) // use bucket sort to store elements 
         bucket[p.second].push_back(p.first);

       string ans="";
       for(int i=maxfreq;i>=1;i--){ // update the res 
        for(char c:bucket[i]){
            ans.append(i,c);
        }
       }
       return ans;
    }
};
